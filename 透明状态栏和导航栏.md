## 透明状态栏和导航栏

<img src="https://upload-images.jianshu.io/upload_images/7129895-6fd374df182b257f.png"/>

### 透明状态栏

```java
public static void transparentStatusBar(@NonNull final Activity activity) {
    transparentStatusBar(activity.getWindow());
}

public static void transparentStatusBar(@NonNull final Window window) {
    if (Build.VERSION.SDK_INT < Build.VERSION_CODES.KITKAT) return;
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
        window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);
        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
		int option = View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN;
		int vis = window.getDecorView().getSystemUiVisibility();
		window.getDecorView().setSystemUiVisibility(option | vis);
		window.setStatusBarColor(Color.TRANSPARENT);
	} else {
		window.addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);
	}
}
```

### 透明导航栏

```java
public static void transparentNavBar(@NonNull final Activity activity) {
    transparentNavBar(activity.getWindow());
}

public static void transparentNavBar(@NonNull final Window window) {
	if (Build.VERSION.SDK_INT < android.os.Build.VERSION_CODES.JELLY_BEAN) return;
	if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.Q) {
	    window.setNavigationBarContrastEnforced(false);
	}
	if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
	    window.setNavigationBarColor(Color.TRANSPARENT);
	} else if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {
	    if ((window.getAttributes().flags & WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION) == 0) {
                window.addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);
	    }
	}
	View decorView = window.getDecorView();
	int vis = decorView.getSystemUiVisibility();
	int option = View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_STABLE;
	decorView.setSystemUiVisibility(vis | option);
}
```

